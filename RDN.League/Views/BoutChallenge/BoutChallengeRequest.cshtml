@model RDN.Library.Classes.League.BoutList
@{
    ViewBag.Title = "Add a Challenge";
    Layout = "~/Views/Shared/_Layout.cshtml";
    Guid memId = RDN.Library.Classes.Account.User.GetMemberId();
    bool subPaid = RDN.Library.Cache.MemberCache.CheckIsLeagueSubscriptionPaid(memId);
}

<ol class="breadcrumb">
    <li><a href="@RDN.Library.Classes.Config.LibraryConfig.InternalSite">Home</a></li>
    <li><a href="@Url.Content("~/challenge/view/all")">Challenge Requests</a></li>
    <li class="active">Request for @RDN.Library.Classes.Config.LibraryConfig.GameName Challenge</li>
</ol>

<div class="row">
    <div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="margin-bottom-10 margin-top-5"><i class="fa fa-paper-plane"></i> Request for @RDN.Library.Classes.Config.LibraryConfig.GameName Challenge</h3>
                <span class="text-muted">
                    Add a @RDN.Library.Classes.Config.LibraryConfig.GameName Challenge here for your team.  You are requesting other teams to play you.  While some of these questions are more for the host, if your @RDN.Library.Classes.Config.LibraryConfig.TeamName.ToLower() is traveling, you can also add a request.
                </span>
            </div>
            @using (Html.BeginForm("BoutChallengeRequest", "BoutChallenge", FormMethod.Post, new { @id = "addNewRequest" }))
            {
                <div class="panel-body">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-label margin-bottom-5">Location</div>
                            <div class="margin-bottom-15">
                                @Html.TextBoxFor(x => x.Location, new { @class="form-control" })
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-label margin-bottom-5">Start Date of Game</div>
                            <div class="margin-bottom-15">
                                @Html.TextBoxFor(models => models.StartDateOfEvent, new { @class = "jquery_datepicker form-control" })
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-label margin-bottom-5">End Date of Game</div>
                            <div class="margin-bottom-15">
                                @Html.TextBoxFor(models => models.EndDateOfEvent, new { @class = "jquery_datepicker form-control" }) <span class="i">If there is no specific date required</span>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-label margin-bottom-5"> Crowd Size</div>
                            <div class="margin-bottom-15">
                                @Html.TextBoxFor(x => x.CrowdSize, new { @class = "form-control" }) <span class="i">1-9999</span>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-label margin-bottom-5">Current Ranking</div>
                            <div class="margin-bottom-15">
                                @Html.TextBoxFor(x => x.CurrentRanking, new { @class = "form-control" }) <span class="i">Exp: 150 WFTDA, 110 FlatTrackStats</span>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-label margin-bottom-5">Travel Stipend Amount</div>
                            <div class="margin-bottom-15">
                                @Html.TextBoxFor(x => x.TravelStipendAmount, new { @class = "form-control" }) <span class="i">Amount able to help pay.</span>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="margin-bottom-15">
                                <label>@Html.CheckBoxFor(x => x.IsOfferTravelStipend) <span class="i">Can you help pay travel expenses?</span></label>
                            </div>
                        </div>
                      
                        <div class="col-xs-12">
                            <div class="margin-bottom-15">
                                <label>@Html.CheckBoxFor(x => x.IsStreamLive) <span class="i">Do you broadcast live online/TV?</span></label>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="margin-bottom-15">
                                <label>@Html.CheckBoxFor(x => x.IsSkaterHousingOffered) <span class="i">Can your @RDN.Library.Classes.Config.LibraryConfig.TeamName.ToLower() offer housing?</span></label>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="margin-bottom-15">
                                <label>@Html.CheckBoxFor(x => x.IsHangOverBoutOffered) <span class="i">@RDN.Library.Classes.Config.LibraryConfig.TeamsName like hang over bouts the next day.  Can your @RDN.Library.Classes.Config.LibraryConfig.TeamName.ToLower() offer one?</span></label>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="margin-bottom-15">
                                <label>@Html.CheckBoxFor(x => x.IsAwayGame) <span class="i">Looking for an Away game rather than a home game?</span></label>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="margin-bottom-15">
                                <label>@Html.CheckBoxFor(x => x.DisplayToPublic) <span class="i">Will be shown publicly to anyone visiting @RDN.Library.Classes.Config.LibraryConfig.WebsiteShortName.</span></label>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-label margin-bottom-5">Rule Set</div>
                            <div class="margin-bottom-15">
                                @Html.DropDownListFor(x => x.RuleSetId, new SelectList(ViewBag.RuleSets, "Value", "Text"), new { @class="full-width"})
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="margin-bottom-15">
                                @Html.TextArea("EventInformation", string.Empty, new
                                {
                                    id = "wmd-input",
                                    style = "width:100%"
                                })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <button type="submit" class="btn btn-sm btn-success" name="addRequest"><i class="fa fa-paper-plane"></i> Submit Request</button>
                </div>
                }
        </div>
    </div>
</div>

<script type="text/javascript">
    $("#addNewRequest").validate({
        rules: {
            Location: "required",
            DateOfEvent: "required"
        }
    });
    $('#EndDateOfEvent').datepicker({
        onSelect: function () { },
        onClose: function () { $(this).focus(); }
    });
    $('#StartDateOfEvent').datepicker({
        onSelect:
          function (dateText, inst) {
              $('#EndDateOfEvent').datepicker("option", 'minDate', new Date(dateText));
          },
        onClose: function () { $(this).focus(); }
    });
    $(function () {
        tinymce.init({
            mode: "textareas",
            elements: "elm2",
            theme: "modern",
            plugins: "layer,table,preview,media,contextmenu,directionality,fullscreen,noneditable,visualchars,nonbreaking,template,link",
        });
    });
</script>
