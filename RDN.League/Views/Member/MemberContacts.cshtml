@using RDN.Library.Classes.Account.Classes
@model RDN.Portable.Classes.Account.Classes.MemberDisplay
@{
    ViewBag.Title = "Your Contacts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<ol class="breadcrumb">
    <li><a href="@RDN.Utilities.Config.ConfigManager.InternalSite">Home</a></li>
    <li class="active">Contacts</li>
</ol>

<h3>
    @Model.DerbyName's Contacts
</h3>
<div class="titleDescription">
    All the contacts for yourself.  Add parents, spouses, and emergency doctor information.  Your league managers will use this information in case of an emergency or any other reason.

</div>
<br />

<div id="Contacts" class="">
    @foreach (var contact in Model.MemberContacts)
    {
        <div class="contactBox col-sm-6 col-md-4 " id="@contact.ContactId-div">
            <div class="well">
                <table class="table ">
                    <tr>
                        <td class="b">Name:</td>
                        <td>
                            @contact.Firstname @contact.Lastname
                        </td>
                    </tr>
                    <tr>
                        <td class="b">Type:</td>
                        <td>
                            @RDN.Utilities.Enums.EnumExt.ToFreindlyName(contact.ContactType)
                        </td>
                    </tr>
                    <tr>
                        <td class="b">Email:</td>
                        <td>
                            @contact.Email
                        </td>
                    </tr>
                    <tr>
                        <td class="b">Phone Number:</td>
                        <td>
                            @contact.PhoneNumber
                        </td>
                    </tr>
                    <tr>
                        <td class="b">
                            Address:<br />
                            @if (contact.AddressDefault != null)
                            {
                                <a href="http://www.bing.com/maps/default.aspx?q=@contact.AddressDefault.Address1+@contact.AddressDefault.Address2,+@contact.AddressDefault.CityRaw,+@contact.AddressDefault.StateRaw+@contact.AddressDefault.Zip+@contact.AddressDefault.Country" target="_blank">View Map</a>
                            }
                        </td>
                        <td>
                            @if (contact.AddressDefault != null)
                            {
                                @contact.AddressDefault.Address1<br />
                                if (!String.IsNullOrEmpty(contact.AddressDefault.Address2))
                                {
                                    @contact.AddressDefault.Address2<br />
                                }
                                if (!String.IsNullOrEmpty(contact.AddressDefault.CityRaw))
                                {
                                    @contact.AddressDefault.CityRaw<br />}
                                if (!String.IsNullOrEmpty(contact.AddressDefault.StateRaw))
                                {
                                    @contact.AddressDefault.StateRaw
                                }
                                if (!String.IsNullOrEmpty(contact.AddressDefault.Zip))
                                {
                                    <span> @contact.AddressDefault.Zip</span>
                                }
                                if (!String.IsNullOrEmpty(contact.AddressDefault.Country))
                                {
                                    <br />@contact.AddressDefault.Country
                                }
                            }
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" class="text-center"><span class="btn btn-warning" onclick="javascript:removeMemberContact('@contact.ContactId')">Remove Contact</span></td>
                    </tr>
                </table>
            </div>
        </div>
    }
</div>
<div class="clearfix"></div>
<div class="col-md-8 col-md-offset-2">
    <div class="text-center">
        <h4>
            Add Contact
        </h4>
    </div>
    <table class="table ">
        

        <tr>
            <td class="b text-right">Name:</td>
            <td class="form-inline">
                <div class="form-group">

                    @Html.TextBox("FirstName", "", new { @class = "form-control", @placeholder="First Name" })
                </div>
                <div class="form-group">
                    @Html.TextBox("LastName", "", new { @class = "form-control", @placeholder = "Last Name" })
                </div>



            </td>
        </tr>
        <tr>
            <td class="b text-right">Contact Type:</td>
            <td class="largeInput">
                @Html.DropDownList("ContactType", (SelectList)ViewBag.Contacts, new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">Email:</td>
            <td class="largeInput">
                @Html.TextBox("Email", "", new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">Phone Number:</td>
            <td>
                @Html.TextBox("PhoneNumber", "", new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">Address Line 1:</td>
            <td class="largeInput">
                @Html.TextBox("Address1", "", new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">Address Line 2:</td>
            <td class="largeInput">
                @Html.TextBox("Address2", "", new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">City:</td>
            <td class="largeInput">
                @Html.TextBox("City", "", new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">State:</td>
            <td>
                @Html.TextBox("State", "", new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">Zip Code:</td>
            <td>
                @Html.TextBox("ZipCode", "", new { @class = "form-control" })
            </td>
        </tr>
        <tr>
            <td class="b text-right">Country:</td>
            <td>
                @Html.DropDownList("Country", (SelectList)ViewBag.Countries, "Select Country...", new { @class = "form-control" })
            </td>
        </tr>

        <tr>
            <td class="text-center" colspan="2"><span class="btn btn-primary" onclick="javascript:AddContactToMember()">Add Contact</span></td>
        </tr>
    </table>
</div>

@Html.HiddenFor(x => x.MemberId)

<br />
