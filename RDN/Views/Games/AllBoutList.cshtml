@model List<RDN.Library.Classes.League.BoutList>
@{
    ViewBag.Title = "All Challenges";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="page-header">
    <h2>
        @RDN.Library.Classes.Config.LibraryConfig.GameName Challenges
    </h2>
    @RDN.Library.Classes.Config.LibraryConfig.GameName Challenges are a way for teams to connect with other teams around the world.
    By adding a @RDN.Library.Classes.Config.LibraryConfig.GameName Challenge request, team ask other teamss to play on a certain weekend.
    Requests are shown to all @RDN.Library.Classes.Config.LibraryConfig.TeamsName.ToLower() around the world.
</div>

<div class="col-xs-offset-1">
    <a href="@(RDN.Library.Classes.Config.LibraryConfig.InternalSite+"/challenge/view/all")" class="btn btn-success">Add A Challenge</a>
</div>
<br />

    <table class="table table-striped table-bordered table-hover" id="boutRequest">
        <thead>
            <tr>
                <th></th>
                <th>League</th>
                <th>Location</th>
                <th>Date of Game</th>
                <th>Travel Stipend</th>

                <th>Rule Set</th>
                <th>Contact</th>
            </tr>
        </thead>
        <tbody>

            @foreach (var b in Model)
            {
                <tr >
                    <td class="text-center">
                        <a class="btn btn-primary btn-xs" href="@Url.Content("~/challenge/view/" + b.ChallengeId)"><i class="fa fa-eye"></i> View</a>

                    </td>

                    <td>
                        @if (!String.IsNullOrEmpty(b.LeagueLogoUrl))
                        {
                            <a href="@Url.Content(RDN.Library.Classes.Config.LibraryConfig.MainDomain+"/" + RDN.Library.Classes.Config.LibraryConfig.LeagueUrl +"/"+RDN.Utilities.Strings.StringExt.ToSearchEngineFriendly(b.LeagueName) + "/" + b.LeagueId.ToString().Replace("-", ""))" class="padding-5">
                                <img src="@b.LeagueLogoUrl" class="thumbnail-sm pull-left img-rounded " />
                            </a>
                        }                        
                        <a href="@Url.Content(RDN.Library.Classes.Config.LibraryConfig.MainDomain+"/" + RDN.Library.Classes.Config.LibraryConfig.LeagueUrl +"/"+ RDN.Utilities.Strings.StringExt.ToSearchEngineFriendly(b.LeagueName) + "/" + b.LeagueId.ToString().Replace("-", ""))">
                            @b.LeagueName
                        </a>
                    </td>
                    <td>@b.Location</td>
                    <td>
                        @if (b.StartDateOfEvent > new DateTime())
                        {
                            @b.StartDateOfEvent.ToShortDateString()
                        }
                        @if (b.EndDateOfEvent > new DateTime())
                        {
                            <span>-</span> @b.EndDateOfEvent.ToShortDateString()
                        }
                    </td>
                    <td>
                        @b.TravelStipendAmount
                    </td>

                    <td>
                        @RDN.Utilities.Enums.EnumExt.ToFreindlyName((RDN.Portable.Classes.Federation.Enums.RuleSetsUsedEnum)b.RuleSetId)
                    </td>
                    <td>
                        <a class="btn btn-primary btn-xs" href="@Url.Content(RDN.Library.Classes.Config.LibraryConfig.InternalSite + "/messages/new/league/" + b.LeagueId.ToString().Replace("-", ""))" title="Contact">
                            <i class="fa fa-envelope"></i> Contact
                        </a>

                    </td>

                </tr>
            }
        </tbody>
    </table>



    <div class="col-xs-offset-1">
        <a href="@(RDN.Library.Classes.Config.LibraryConfig.InternalSite+"/challenge/view/all")" class="btn btn-success">Add A Challenge</a>
    </div>  

<br /><br />